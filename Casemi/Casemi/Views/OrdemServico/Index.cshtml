@model IEnumerable<Casemi.Models.OrdensServico>

@{
    ViewBag.Title = "OS[Lista]";
}


<div class="row">
    <div class="col-md-6">
        <h2>Ordens de Serviço</h2>
    </div>
    <div class="col-md-6">
        <br />
        @using (Html.BeginForm("Index", "OrdemServico", FormMethod.Get))
        {
            <div class="input-group">
                <input type="text" class="form-control pull-right" placeholder="Pesquisar..." name="searchString" data-toggle="tooltip" data-placement="top" title="Este campo pesquisa: Código, Cliente, Veículo e Status">
                <span class="input-group-btn">
                    <button class="btn btn-primary" type="submit"><i class="glyphicon glyphicon-search" data-toggle="tooltip" data-placement="top" title="Pesquisar"></i></button>
                </span>
            </div>
        }
    </div>
</div>



<br />
<div class="row">
    <div class="col-md-12 text-right">
        <a href="@Url.Action("Create","OrdemServico",null)" class="btn btn-success">
            <i class="glyphicon glyphicon-plus"></i> Adicionar
        </a>
    </div>
</div>
<hr />

<div class="row">
    <div class="col-md-1">
        <strong>@Html.DisplayNameFor(model => model.Codigo)</strong>
    </div>
    <div class="col-md-2">
        <strong>@Html.DisplayNameFor(model => model.AssociadoID)</strong>
    </div>
    <div class="col-md-3">
        <strong>@Html.DisplayNameFor(model => model.FornecedorID)</strong>
    </div>
    <div class="col-md-2">
        <strong>@Html.DisplayNameFor(model => model.Valor)</strong>
    </div>
    <div class="col-md-2">
        <strong>@Html.DisplayNameFor(model => model.Encerrada)</strong>
    </div>
    <div class="col-md-2"></div>
</div>


@foreach (var item in Model)
{
    <hr />
    <div class="row">
        <div class="col-md-1">
            <small>@Html.DisplayFor(modelItem => item.Codigo)</small>
        </div>
        <div class="col-md-2">
            <small>@Html.DisplayFor(modelItem => item.Pessoas.Nome)</small>
        </div>
        <div class="col-md-3">
            <small>@Html.DisplayFor(modelItem => item.Pessoas1.Nome)</small>
        </div>
        <div class="col-md-2 text-nowrap">
            <small>@Html.DisplayFor(modelItem => item.Valor)</small>
        </div>
        <div class="col-md-2">
            <small>@Html.DisplayFor(modelItem => item.Encerrada)</small>
        </div>

        <div class="col-md-2 text-right">
            <a href="@Url.Action("Details", "OrdemServico", new { id = item.OrdemServicoID })" data-toggle="tooltip" data-placement="top" title="Detalhes" class="btn btn-info"><span class="glyphicon glyphicon-circle-arrow-down"></span></a>

            <a href="@Url.Action("Edit", "OrdemServico", new { id = item.OrdemServicoID })" data-toggle="tooltip" data-placement="top" title="Alterar" class="btn btn-primary">
                <i class="glyphicon glyphicon-pencil"></i>
            </a>

            <a href="@Url.Action("Delete", "OrdemServico", new { id = item.OrdemServicoID })" data-toggle="tooltip" data-placement="top" title="Excluir" class="btn btn-danger">
                <i class="glyphicon glyphicon-trash"></i>
            </a>

        </div>
    </div>
}



@if (Model.Count() > 0)
{
    <hr />
    <div class="row">
        <div class="col-md-12">
            <strong>Ordens de Serviço encontradas: </strong> @Model.Count().ToString()
        </div>
    </div>
}

@section Scripts {
    @*data-toggle para mostrar o tooltip*@
    <script>
        $('[data-toggle=tooltip]').tooltip();
    </script>
}